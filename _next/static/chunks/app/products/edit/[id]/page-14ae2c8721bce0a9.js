(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{809:(e,t,i)=>{Promise.resolve().then(i.bind(i,7913))},2758:e=>{e.exports={container:"page_container___I_zT",title:"page_title__Xe7Mk"}},7913:(e,t,i)=>{"use strict";i.d(t,{default:()=>p});var r=i(5155),a=i(5695),s=i(9007),n=i(4540),l=i(558),c=i(2758),o=i.n(c),d=i(1471),u=i(2115);function p(e){var t;let{id:i}=e,c=(0,a.useRouter)(),p=(0,n.wA)(),g=(0,u.useRef)(null),m=(0,n.d4)(e=>e.products.localProducts.find(e=>e.id===Number(i))),{data:_}=(0,d.Kc)(void 0,{skip:!!m,selectFromResult:e=>{let{data:t}=e;return{data:null==t?void 0:t.find(e=>e.id===Number(i))}}}),v=m||_;return v?(0,r.jsxs)("div",{className:o().container,children:[(0,r.jsx)("h1",{className:o().title,children:"Редактирование товара"}),(0,r.jsx)(s.i,{initialData:{title:v.title||"",price:(null==(t=v.price)?void 0:t.toString())||"0",description:v.description||"",category:v.category||"",image:v.image||"",newCategory:""},onSubmit:(e,t)=>{var i;let r=m||_;if(!r)return;let a={...r,title:e.title,price:parseFloat(e.price),description:e.description,category:(null==(i=e.newCategory)?void 0:i.trim())||e.category,image:t?URL.createObjectURL(t):r.image};p((0,l.vc)(a)),c.push("/products")},isSubmitting:!1,existingCategories:Array.from(new Set([v.category])),setExistingCategories:()=>{},fileInputRef:g})]}):(0,r.jsx)("div",{className:o().error,children:"Товар не найден"})}}},e=>{var t=t=>e(e.s=t);e.O(0,[657,404,243,360,441,684,358],()=>t(809)),_N_E=e.O()}]);